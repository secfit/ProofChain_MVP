# Current Process Flows

## Platform Functional Overview _ Operational URLs

The following URLs are **fully operational and interactive**.  
In contrast, the remaining tabs and links are presently limited to displaying **MOOC-related data** only.

### ✅ Active and Functional URLs
- [https://v0-proof-chain-prototype.vercel.app/](https://v0-proof-chain-prototype.vercel.app/)
- [https://v0-proof-chain-prototype.vercel.app/dashboard](https://v0-proof-chain-prototype.vercel.app/dashboard)
- [https://v0-proof-chain-prototype.vercel.app/upload](https://v0-proof-chain-prototype.vercel.app/upload)
- [https://v0-proof-chain-prototype.vercel.app/help](https://v0-proof-chain-prototype.vercel.app/help)

---

### ℹ️ Note
The non-functional sections are currently serving as placeholders for **MOOC data** and will be updated in future iterations of the platform.


## `/upload` Page Web3 Flow

### 1. Wallet Connection
When users access the `/upload` page, they first connect their wallets using **Thirdweb Auth**.  
This ensures **decentralized authentication** without traditional username-password models.  
Once connected, the wallet address becomes the **primary identity key** across the platform.  
The session token generated by Thirdweb validates on-chain ownership and provides secure access to features like contract uploads and NFT minting.

---

### 2. Contract Submission
After authentication, users submit a **GitHub repository URL** that contains the smart contract or dApp source code they want audited.  
The frontend validates the URL and sends it to the backend API for preprocessing.  
This step ensures repository integrity, checks file structures, and extracts relevant `.sol`, `.js`, or `.ts` files for analysis.

---

### 3. AI Processing
The backend integrates **GPT-4** or a fine-tuned **LLM model** to analyze the uploaded repository.  
It evaluates factors like contract size, logic complexity, dependencies, and potential vulnerabilities.  
The AI model then generates a **complexity score** and **estimated audit pricing**, which is displayed to the user before proceeding.

---

### 4. Smart Contract Interaction
Once the user confirms, the platform executes a smart contract function that **mints a new AuditRequestNFT (ERC-721)** on-chain.  
This NFT includes metadata such as the repository hash, project name, complexity level, and timestamp.  

- The **code hash (SHA-256)** ensures that the submitted version can never be altered.  
- The NFT acts as an **immutable audit request certificate**, publicly verifiable on-chain.  
- Transaction details are returned and displayed to the user for transparency.

---

### 5. Database Storage
Alongside the blockchain interaction, the system uses **Supabase** as an off-chain database for indexing and quick querying.  
Metadata such as user preferences, audit progress, AI analysis results, and links to the NFT metadata are stored.  
This **hybrid storage** (on-chain + Supabase) ensures both **decentralization** and **speed**.

---

### 6. NFT Confirmation
After the transaction is confirmed, the user receives an **NFT confirmation modal** containing:  
- The transaction hash  
- Explorer link (Etherscan, PolygonScan, etc.)  
- QR code for quick verification  

The NFT serves as a **certificate of submission**, proving that the audit request is permanently recorded on-chain.

---

## `/dashboard` Page Current Flow

### 1. Data Fetching
The dashboard fetches user-specific data directly from **Supabase**, including:  
- Project submissions  
- AI analysis reports  
- NFT references  
- Transaction logs  

This allows the dashboard to render instantly without querying the blockchain repeatedly, optimizing performance.

---

### 2. Wallet Integration
Using the connected wallet, the dashboard filters and displays all blockchain-related actions tied to the user’s address.  
It retrieves past transaction history and integrates it with Supabase records for a unified overview of both on-chain and off-chain activity.

---

### 3. Project Overview
The dashboard presents a comprehensive list of all audit requests associated with the user, including:  
- Smart contract metadata  
- NFT links  
- Repository URLs  
- Stored IPFS references  

Users can easily track project statuses (**pending**, **auditing**, **completed**) and view corresponding NFT certificates.

---

### 4. Real-time Updates
**Supabase’s real-time listener** feature pushes updates to the UI whenever there’s a data change — for example, when an audit status is updated or a new NFT is minted.  
These updates are verified against **blockchain event logs** for integrity.

---

### 5. Interactive Features
Each audit record includes direct links to **blockchain explorers**, **IPFS gateways**, and **NFT metadata endpoints**.  
This gives users transparent access to every component of the process — from submission to blockchain registration.

---

## Future `/dashboard` Thirdweb Integration

### 1. Direct Blockchain Queries
The next version of the dashboard will fetch data directly from **smart contracts** using the **Thirdweb SDK**.  
Instead of relying on Supabase as the primary data source, users will be able to interact with contracts in real time —  
reading NFT ownership, token balances, or contract states directly from the blockchain.

---

### 2. Real-time NFT Tracking
By integrating **blockchain event listeners**, the dashboard will track NFT transfers, ownership changes, and minting events in real time.  
Users will see live updates when an NFT is sold, transferred, or burned — similar to **OpenSea activity feeds**.

---

### 3. DeFi Dashboard
A new module will display **staking rewards**, **governance participation**, and **token balances** linked to the user’s wallet.  
Users will be able to view and manage their positions in **DeFi protocols**, all within a single interface.

---

### 4. Cross-chain Portfolio
The dashboard will aggregate data across multiple chains (**Ethereum**, **Polygon**, **Base**, etc.) using **Thirdweb’s cross-chain APIs**.  
This will provide a **unified portfolio view**, showing total assets, active NFTs, and participation across networks.

---

### 5. Web3 Native UX
Finally, the user experience will evolve into a **Web3-native dApp**, optimized for wallet browsers and mobile users.  
The integration will support wallet connectors like **MetaMask**, **WalletConnect**, and **Coinbase Wallet**,  
with **gasless transactions** and **sign-in-with-wallet flows** for a frictionless experience.

---
